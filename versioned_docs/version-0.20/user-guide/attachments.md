---
title: 附件
description: 附件管理相关功能说明
---

## 说明

- 附件分为`目录`类型附件和`文件`类型附件，需要注意的是：目录也是附件。
- 文件类型附件，又分为`图片`、 `视频`、 `文档`、 `音声`、`未知`，各种类型有不同的图标。
- 附件关联(AttachmentRelation)：只涉及附件之间直接的关系，比如视频附件和对应的字幕附件；
- 附件引用(AttachmentReference)：附件被其它地方引用，比如被条目引用为封面的图片附件，附件存在引用时无法删除；

## 管理主面板

![Ikaros Console Attachment Manager](/img/user-guide-attachments/Snipaste_2024-05-17_22-18-16.png)

- 1: 打开[上传附件右侧抽屉](#右边附件上传抽屉)，用于上传附件，支持大附件分片上传，但没有断点续传（如资源较多则更推荐使用[本地导入插件](/docs/plugins/plugin-local-files-import)的本地导入功能）；
- 2: 在当前目录新建目录；
- 3: 按关键词搜索当前目录下的所以附件，模糊匹配，多个关键词用空格隔开，会更新下方附件列表；
- 4: 当前目录下的所以附件总数，如目录附件数目少，则不显示；
- 5: 当前每页显示的附件数目，如目录附件数目少，则不显示；
- 6: 上一页按钮，当前处于第一页时不可用，如目录附件数目少，则不显示；
- 7: 页码，点击跳转到对应页数，如目录附件数目少，则不显示；
- 8: 输入页码数字，跳转到对应页数，如目录附件数目少，则不显示；
- 9: 当前所在的目录路径
- 10: 当前所在的目录路径，按照目录类型附件进行分隔
- 12: 目录类型的附件列表
- 13: 文本文件类型的附件
- 14: 视频文件类型的附件

## 附件列表操作

### 选中行操作

![Ikaros Console Attachment Manager Select Row Operate](/img/user-guide-attachments/Snipaste_2024-05-17_22-58-49.png)

勾选每行前的小方框，则视为选中该行，
选中后，上方会出现两个操作按钮：
- 批量移动：将选中的目附件，移动到指定的目录；
- 批量删除：将选中的附件进行删除，危险操作请谨慎确认；

### 目录类型附件

#### 单行双击
双击目录类型附件，进入对应的目录，上方的当前所在目录路径会更新，下方的附件列表也会更新。

#### 单行右键

鼠标右键目录类型附件，会打开右键操作面板，可以进行一些操作。

![Ikaros Console Attachment Right Click Menu](/img/user-guide-attachments/Snipaste_2024-05-17_22-46-11.png)

- 进入：点击进入当前目录；
- 复制简短名称：这个对目录类型附件无效，忘记加条件禁用了，后续优化；
- 复制完整名称：复制当前目录附件的名称，比如目录附件名为`Bonus`,则复制到剪贴板的字符串就是`Bonus`；
- 复制URL：目录类型附件无效，已禁用；
- 下载：不支持服务端将整个目录压缩打包进行下载，已禁用；
- 删除：删除当前目录，需要注意的是：**删除目录操作会递归删除该目录下的所以文件和目录**，操作还请小心；

### 文件类型附件

#### 单行双击
双击文件类型附件，会打开[右边附件详情抽屉](#右边附件详情抽屉)，展示当前附件的一些详细信息，可预览的附件则支持预览。

#### 单行右键

![Ikaros Console Attachment Right Click Menu](/img/user-guide-attachments/Snipaste_2024-05-17_22-52-56.png)

- 详情：打开[右边附件详情抽屉](#右边附件详情抽屉)；
- 复制简短名称：复制当前文件附件的简短名称，不带后缀名，比如目录附件名为`[LPSub] BanG Dream! It's MyGO!!!!! 01 (BDRip 1080p HEVC-YUV420P10 FLAC).jpsc.ass`,则复制到剪贴板的字符串就是`[LPSub] BanG Dream! It's MyGO!!!!! 01 (BDRip 1080p HEVC-YUV420P10 FLAC).jpsc`，不带后缀名`.ass`；
- 复制完整名称：复制当前文件附件的完整名称，包括后缀名；
- 复制URL：复制当前文件附件的相对路径直链URL，比如`/files/2024/5/13/27374bdd766c45e19a1293d25e9924c8.mkv`；
- 下载：下载当前文件附件；
- 删除：删除当前文件附件，会彻底删除该文件的数据，危险操作还请谨慎；


<hr />

## 右边附件上传抽屉

![Ikaros Console File Manager](/img/user-guide-files/Snipaste_2023-07-30_13-46-04.png)

- 文件上传区域，可以点击选择文件上传，或者将文件拖动到对应的区域上传。

## 右边附件详情抽屉

![Ikaros Console Attachment Manager](/img/user-guide-attachments/Snipaste_2024-05-17_23-07-15.png)

- 上方是文件预览的区域，图片、视频、音频类型文件附件可以进行预览；
- 名称这栏目，可以鼠标移动到具体的附件名称值上双击，进行重命名操作；
- 视频预览，这里用到了[artplayer.js](https://github.com/zhw2590582/ArtPlayer)，支持挂载ASS类型的字幕；
    - ![Ikaros Console Attachment Manager](/img/user-guide-attachments/Snipaste_2024-05-17_23-13-38.png)
- 下方`删除`按钮：删除当前附件，同时会删除文件，危险操作请谨慎确认；
- 下方`关联`按钮：打开[附件关联操作面板](#附件关联操作面板)，进行视频字幕关联操作；


## 附件关联操作面板

![Ikaros Console Attachment Manager](/img/user-guide-attachments/Snipaste_2024-05-17_23-18-16.png)

- 展示与当前附件想关联的附件，当前只有一种`VIDEO_SUBTITLE`视频字幕类型的附件关联关系；
- 列表每行的`删除`按钮，可以删除当前的附件关联关系；
- 底部的`添加`按钮，可以新增新的附件关联关系；

